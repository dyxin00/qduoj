{%extends "ojbase.html"%}

{%block title%}Register{%endblock%}

{%block content%}
	<center>
		{%if error.error %}
			<span class="red">{{error.error}}</span>
		{%endif%}
		<form action="" method = "post"><br><br>
			<table>
				<tbody>
					<tr>
						<td width = "25%"> User ID :</td>
						<td width = "75%">{{form.nick}} *</td>
					</tr>
					<tr>
						<td width = "25%"> Password :</td>
						<td width = "75%">{{form.password}} *</td>
					</tr>
					<tr>
						<td width = "25%">Repeat Password :&nbsp&nbsp</td>
						<!--<td width = "75%">{{form.ensure_pw}} *</td>-->
						<td width = "75%"><input name="ensure_pw" type="password"/> *</td>
					</tr>
					<tr>
						<td width = "25%"> Email :</td>
						<td width = "75%">{{form.email}} *</td>
					</tr>  
					<tr>
						<td width = "25%"> Website :</td>
						<td width = "75%">{{form.website}}</td>
					</tr>  
				</tbody>
			</table>
		<input type = "submit" value = "Register" onclick="check()"/> 
		</form>
	</center>
	
<script type="text/javascript">
	function check(){ 
		with(document.all){
			var text = ""
			if(password.value!=ensure_pw.value){
				text += "!!!Repeat Password does not match with the password!\n\n"
			}
	
			if(!isAccount(nick.value)){
				text += "!!!The User ID contains the illegal characters!!!\n"
			}
			
			if(!isAccount(password.value)){
				text += "!!!The User Password contains illegal character!!!"
			}
			
			if(text.length > 2){
				alert(text);
				password.value = ""
				ensure_pw.value = ""
			}
			
			function isAccount(strAccount) { 
			{ 
				var result=false;
				var pattern = new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“’。，、？ ]");
		
				if(pattern.test(strAccount)){
					return false;
				}
				
				return true;
			}
		}
		
	}
}
</script>
{%endblock%}
